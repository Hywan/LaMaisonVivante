<!DOCTYPE html>

<html lang="fr">
<head>
  <title>Hub — La Maison Vivante</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="content-type" content="text/javascript; charset=utf-8" />
  <meta http-equiv="content-type" content="text/css; charset=utf-8" />
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <meta name="theme-color" content="#b24646" />
  <link rel="icon" type="image/png" href="static/images/robot.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="static/images/robot.png" />
  <link rel="stylesheet" type="text/css" href="static/style/main.css" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />

  <template id="template--nav">
    <style>
      @import "static/style/main.css";
    </style>

    <h1 class="header--title">
      <ol>
        <li><slot name="root">(root)</slot></li>
      </ol>
    </h1>
  </template>

  <template id="template--things">
    <style>
      @import "static/style/main.css";
    </style>

    <div class="things">
      <h2 class="things--location"><span class="heading"><slot name="location">(somewhere)</slot></span></h2>

      <div class="things--list">
        <slot>(none)</slot>
      </div>
    </div>
  </template>

  <template id="template--thing">
    <style>
      @import "static/style/main.css";
    </style>

    <div id="thing-?" class="thing" aria-expanded="false">
      <div class="thing--summary thing--expander">
        <h3 class="thing--name"><slot name="name">(unnamed)</slot></h3>
        <span class="thing--state-icon"><slot name="state-icon">(❓)</slot></span>
        <span class="thing--state-text"><slot name="state-text">(??)</slot></span>
      </div>
      <div class="thing--long">
        <h3 class="thing--name"><slot name="long-name">(unnamed)</slot></h3>
        <slot name="thing" class="thing--thing">(component)</slot>
      </div>
    </div>
  </template>

  <template id="template--thing-pulse">
    <style>
      @import "static/style/main.css";
    </style>

    <div class="thing--type thing--type-pulse">
      <button><svg class="icon"><use href="#icon-tap" /></svg></button>
    </div>

    <svg xmlns="http://www.w3.org/2000/svg">
      <symbol id="icon-tap" viewBox="0 0 340 532">
        <path stroke="#000" stroke-width="6" d="M304 243c-8 0-15 2-22 7a36 36 0 0 0-36-36c-8 0-16 2-22 7a36 36 0 0 0-36-36c-8 0-16 2-22 7v-73a36 36 0 0 0-72 0v198c-19-36-42-46-56-49-13-2-25 1-31 7-18 22 4 50 12 60 20 25 28 49 36 72 10 29 20 60 54 91 25 22 58 34 92 34 84 0 139-73 139-187v-66a36 36 0 0 0-36-36zm22 102c0 107-48 173-125 173-31 0-60-11-83-31-31-28-40-55-50-84-8-25-17-50-38-77-23-29-15-38-13-42 6-3 12-4 18-2 12 2 40 13 60 71v1l1 1v1l2 1 2 1h4l1-1 1-1 1-1 1-2V119a22 22 0 1 1 44 0v174a7 7 0 0 0 14 0v-73a22 22 0 0 1 44 0v73a7 7 0 0 0 14 0v-43a22 22 0 0 1 44 0v58a7 7 0 1 0 14 0v-29a22 22 0 0 1 44 0z" />
        <path d="M70 221a7 7 0 1 0 7-12 105 105 0 1 1 142-35 7 7 0 0 0 3 10c3 2 7 1 9-3a119 119 0 1 0-161 40z" />
      </symbol>
    </svg>
  </template>

  <template id="template--thing-blind">
    <style>
      @import "static/style/main.css";
    </style>

    <div class="thing--type thing--type-blind">
      <button class="thing--type-blind__open"><svg class="icon"><use href="#icon-up" /></svg></button>
      <button class="thing--type-blind__stop"><svg class="icon"><use href="#icon-stop" /></svg></button>
      <button class="thing--type-blind__close"><svg class="icon"><use href="#icon-down" /></svg></button>
    </div>
    <svg xmlns="http://www.w3.org/2000/svg">
      <symbol id="icon-up" viewBox="0 0 555 555">
        <path stroke="#000" stroke-miterlimit="10" stroke-width="8" d="M551 277a272 272 0 0 1-274 274A272 272 0 0 1 4 277 272 272 0 0 1 277 4a272 272 0 0 1 274 273zm-525 0a252 252 0 1 0 504 0 252 252 0 0 0-504 0z" />
        <path stroke="#000" stroke-miterlimit="10" stroke-width="18" d="M154 357c0-7 1-13 5-18l88-152a36 36 0 0 1 61 0l88 152c7 11 7 24 0 35-6 12-18 18-31 18H190c-13 0-25-6-31-18-4-5-5-11-5-17zm239 0c0-5-1-10-4-14l-88-152c-5-9-13-14-23-14s-19 5-25 14l-87 152c-6 8-6 19-1 27 5 9 14 14 24 14h176c10 0 19-5 24-14 3-4 4-9 4-13z" />
      </symbol>

      <symbol id="icon-down" viewBox="0 0 555 555">
        <path stroke="#000" stroke-miterlimit="10" stroke-width="8" d="M551 277a272 272 0 0 1-274 274A272 272 0 0 1 4 277 272 272 0 0 1 277 4a272 272 0 0 1 274 273zm-525 0a252 252 0 1 0 504 0 252 252 0 0 0-504 0z" />
        <path stroke="#000" stroke-miterlimit="10" stroke-width="18" d="M401 205c0 6-2 12-5 18l-88 152a36 36 0 0 1-61 0l-88-152c-7-12-7-25 0-36 6-11 18-18 30-18h176c13 0 25 7 31 18 3 6 5 12 5 18zm-239 0c0 5 1 9 4 13l88 153c4 8 13 13 23 13s19-5 24-13l88-153c5-8 5-18 0-27s-14-14-24-14H190c-10 0-19 5-24 14-3 4-4 9-4 14z" />
      </symbol>

      <symbol id="icon-stop" viewBox="0 0 484 527">
        <path d="M324 163H158c-8 0-14 6-14 14v174c0 7 6 14 14 14h166c8 0 14-7 14-14V177c0-8-6-14-14-14zm-14 174H172V191h138zm169-182c-9-28-24-47-46-60l-70-41-71-41c-15-8-30-12-47-13-20-1-38 3-53 12l-39 23L50 95a98 98 0 0 0-50 86v164a103 103 0 0 0 50 87l70 40 70 40c14 9 29 13 45 14h8c18 0 34-4 49-12l141-82c15-9 27-20 36-36 10-17 15-32 15-48V181c-1-8-2-17-5-26zm-24 194c0 11-3 21-11 34-6 11-15 20-26 26l-141 82a73 73 0 0 1-73-2l-70-40-70-41c-16-9-27-22-34-42-2-6-3-13-3-20V182c0-28 12-48 37-63l101-60 41-23c10-6 20-9 34-9h3c13 1 24 4 34 11l71 40 71 41a73 73 0 0 1 35 63v167z" />
      </symbol>
    </svg>
  </template>

  <script src="static/javascript/main.js"></script>
</head>
<body>
  <header class="header--container">
    <div class="header">
      <my-nav id="nav" role="nav">
        <span slot="root">La Maison Vivante</span>
      </my-nav>
      <ul class="header--details" role="tablist" aria-label="View">
        <li id="tab-of-things-panel" role="tab" aria-selected="true" aria-controls="things-panel" tabindex="0" aria-label="Tous les objets">
          <svg class="icon"><use href="#icon-home" /></svg>
        </li>
        <li id="tab-of-metrics-panel" role="tab" aria-selected="false" aria-controls="metrics-panel" tabindex="1" aria-label="Toutes les métriques">
          <svg class="icon"><use href="#icon-graph" /></svg>
        </li>
      </ul>
    </div>
  </header>

  <main>
    <section id="things-panel" role="tabpanel" tabindex="0" aria-labelledby="tab-of-things-panel" aria-hidden="false">
      <my-things>
        <span slot="location">Pièce de vie</span>

        <my-thing>
          <span slot="name">Général</span>
          <span slot="long-name">Lumières de l'espace de vie</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumières</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/5"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Table</span>
          <span slot="long-name">Lumière de la table à manger</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/7"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Îlot</span>
          <span slot="long-name">Lumière de l'îlot de cuisine</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/8"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Cuisine</span>
          <span slot="long-name">Lumière de la niche de la cuisine</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/9"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Canapé</span>
          <span slot="long-name">Prise commandée du canapé</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/6"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Entrée</span>
          <span slot="long-name">Lumières du hall d'entrée</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumières</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/4"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Terrasse</span>
          <span slot="long-name">Store de la grande fenêtre côté terrasse</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-blind" /></svg></span>
          <span slot="state-text">store</span>
          <my-thing--blind
            slot="thing"
            data-base="http://192.168.1.128:8095/1"></my-thing--blind>
        </my-thing>

        <my-thing>
          <span slot="name">Cuisine</span>
          <span slot="long-name">Store de la cuisine</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-blind" /></svg></span>
          <span slot="state-text">store</span>
          <my-thing--blind
            slot="thing"
            data-base="http://192.168.1.128:8095/0"></my-thing--blind>
        </my-thing>
      </my-things>

      <my-things>
        <span slot="location">Salle de bain enfants</span>

        <my-thing>
          <span slot="name">S. de Bain</span>
          <span slot="long-name">Lumière de la salle de bain des enfants</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/1"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Buanderie</span>
          <span slot="long-name">Lumière de la buanderie</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/0"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">S. de Bain</span>
          <span slot="long-name">Store de la salle de bain des enfants</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-blind" /></svg></span>
          <span slot="state-text">store</span>
          <my-thing--blind
            slot="thing"
            data-base="http://192.168.1.128:8095/5"></my-thing--blind>
        </my-thing>
      </my-things>

      <my-things>
        <span slot="location">Chambres enfants</span>

        <my-thing>
          <span slot="name">Louise</span>
          <span slot="long-name">Lumière de la chambre de Louise</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/2"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Éli</span>
          <span slot="long-name">Lumière de la chambre d'Éli</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/3"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Louise</span>
          <span slot="long-name">Store de la chambre de Louise</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-blind" /></svg></span>
          <span slot="state-text">store</span>
          <my-thing--blind
            slot="thing"
            data-base="http://192.168.1.128:8095/4"></my-thing--blind>
        </my-thing>

        <my-thing>
          <span slot="name">Éli</span>
          <span slot="long-name">Store de la chambre d'Éli</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-blind" /></svg></span>
          <span slot="state-text">store</span>
          <my-thing--blind
            slot="thing"
            data-base="http://192.168.1.128:8095/3"></my-thing--blind>
        </my-thing>
      </my-things>

      <my-things>
        <span slot="location">Suite parentale</span>

        <my-thing>
          <span slot="name">Chambre</span>
          <span slot="long-name">Lumière de la chambre parentale</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/12"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Lit</span>
          <span slot="long-name">Prises commandées du lit parental</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/10"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">S. de Bain</span>
          <span slot="long-name">Lumière de la salle de bain des parents</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/11"></my-thing--pulse>
        </my-thing>

        <my-thing>
          <span slot="name">Chambre</span>
          <span slot="long-name">Store de la chambre parentale</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-blind" /></svg></span>
          <span slot="state-text">store</span>
          <my-thing--blind
            slot="thing"
            data-base="http://192.168.1.128:8095/2"></my-thing--blind>
        </my-thing>
      </my-things>

      <my-things>
        <span slot="location">Serre</span>

        <my-thing>
          <span slot="name">Serre</span>
          <span slot="long-name">Lumières de la serre</span>
          <span slot="state-icon"><svg class="icon"><use href="#icon-bulb" /></svg></span>
          <span slot="state-text">lumière</span>
          <my-thing--pulse
            slot="thing"
            data-base="http://192.168.1.128:8094/13"></my-thing--pulse>
        </my-thing>
      </my-things>
    </section>

    <section id="metrics-panel" role="tabpanel" tabindex="1" aria-labelledby="tab-of-metrics-panel" aria-hidden="true">
      <ul class="tabs" role="tablist" aria-label="Select metrics">
        <li id="tab-of-metrics-live-panel" role="tab" aria-selected="true" aria-controls="metrics-live-panel" tabindex="0" aria-label="Métriques en temps réel">
          Live
        </li>
        <li id="tab-of-metrics-daily-panel" role="tab" aria-selected="false" aria-controls="metrics-daily-panel" tabindex="1" aria-label="Métriques quotidiennes">
          Daily
        </li>
      </ul>

      <iframe id="metrics-live-panel" role="tabpanel" tabindex="1" aria-labelledby="tab-of-metrics-live-panel" aria-hidden="false" src="http://192.168.1.128:3000/d/Mxk-7RWgk/live?orgId=1&refresh=10s&theme=light&kiosk"></iframe>
      <iframe id="metrics-daily-panel" role="tabpanel" tabindex="2" aria-labelledby="tab-of-metrics-daily-panel" aria-hidden="true" src="http://192.168.1.128:3000/d/gosssXkgz/daily-view?orgId=1&from=now-7d&to=now&theme=light&kiosk"></iframe>
    </section>
  </main>

  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="icon-bulb" viewBox="0 0 350 560">
        <path fill="currentColor" d="M175 0a175 175 0 01142 277c-24 31-37 69-37 108a35 35 0 01-35 35H128a12 12 0 00-11 12l-1 81c0 13 11 24 24 24h70c13 0 23-11 23-24v-58a12 12 0 0124 0v61c0 24-22 44-47 44h-70c-25 0-47-20-47-44v-84a35 35 0 0135-35h117a12 12 0 0012-12c0-42 13-83 39-118a152 152 0 10-241 0 199 199 0 0138 106 12 12 0 01-23 0l-2-11c-4-31-16-60-35-85A175 175 0 01175 0z" />
    </symbol>
    <symbol id="icon-blind" viewBox="0 0 504 433">
      <path fill="currentColor" d="M49 69v351c0 3 2 5 4 6 9 5 20 7 32 7 10 0 20-2 28-5 15 7 40 7 56 0 15 7 40 7 56 0 7 3 17 5 28 5s23-2 31-7c2-1 4-3 4-6v-28h160c8 0 14-6 14-14V126c0-8-6-14-14-14H287V70h161c31 0 56-25 56-56 0-8-6-14-14-14s-14 6-14 14c0 16-12 28-28 28H56c-16 0-28-12-28-28 0-8-6-14-14-14S0 6 0 14c0 29 21 52 49 55zm224 347c-13 5-34 3-46-2h-6c-6 3-15 5-24 5s-19-2-25-5h-6c-6 3-16 5-25 5s-18-2-25-5h-6c-11 5-32 7-46 2V94a82 82 0 0050-2c15 7 40 7 56 0 15 7 40 7 56 0 8 3 18 5 28 5l21-3v322zm0-336c-6 2-13 3-21 3s-15-1-21-3V70h42v10zm-56 0c-6 2-13 3-21 3s-15-1-21-3V70h42v10zm-56 0c-6 2-13 3-21 3s-15-1-21-3V70h42v10zm-56 0c-6 2-13 3-21 3s-15-1-21-3V70h42v10zm182 179h42v105h-42zm56 105V259h92v105zm91-119h-91V140h92v105zM329 140v105h-42V140z" />
    </symbol>

    <symbol id="icon-graph" viewBox="0 0 482 470">
      <path fill="currentColor" d="M241 217a72 72 0 0 0-72 71v111a72 72 0 1 0 144 0V288a72 72 0 0 0-72-71zm38 182a38 38 0 1 1-77 0V288a38 38 0 0 1 77 0zM72 101a72 72 0 0 0-72 72v226a72 72 0 1 0 144 0V173a72 72 0 0 0-72-72Zm38 298a38 38 0 0 1-76 0V173a38 38 0 0 1 76 0zM410 0a72 72 0 0 0-72 72v327a72 72 0 1 0 144 0V72a72 72 0 0 0-72-72Zm38 399a38 38 0 1 1-77 0V72a38 38 0 0 1 77 0z" />
    </symbol>
    <symbol id="icon-home" viewBox="0 0 532 450">
      <path d="M350 198c-9-7-23-5-30 5-7 9-5 23 5 30a97 97 0 0 1-58 174 96 96 0 0 1-58-174c9-7 11-21 4-30-7-10-21-12-30-5a140 140 0 1 0 167 0z" />
      <path d="M288 324V189a22 22 0 0 0-44 0v135a22 22 0 0 0 44 0z" />
      <path d="m523 191-74-57V39c0-7-6-13-14-13h-23c-7 0-14 6-14 13v56L281 5c-9-7-21-7-30 0L10 191c-6 4-9 10-10 17a25 25 0 0 0 40 23L267 57l226 174c11 8 27 6 35-5 9-11 6-27-4-35z" />
    </symbol>
  </svg>
</body>
</html>
